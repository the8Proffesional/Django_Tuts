# Django Tutorials

## Install Django

```shell
pip3 install django
```

## Start Project

```shell
django-admin startproject PROJECT_NAME
```

## Run the Server

```shell
python manage.py runserver
```

## Create Django Application

```shell
python manage.py startapp APP_NAME
```



## Folder structure

1. PROJECT_NAME
* __\_\_init\_\___ : Marks the directory as a Python package.
* __asgi\.py__ : ASGI configuration for deployment.
* __setting\.py__ : Contains project settings such as database configuration, installed apps, middleware, etc.
* __urls\.py__ : This file contains the URL patterns for your project. It maps URLs to views (controllers) that handle the incoming requests.
* __wsgi\.py__ : This file is the entry point for the WSGI-compatible web servers to serve your Django application.
2. APP_NAME
* __migration/__ : This subdirectory contains database migration files generated by Django when you make changes to your models.
* __admin\.py__ : his file contains configuration for the Django admin interface, where you can manage your database records through a user-friendly interface.
* __apps\.py__ : This file contains the configuration for the app, such as the app name and any app-specific settings.
* __models\.py__ : This file contains the database models for the app. Each model class represents a database table and its fields.
* __tests\.py__ : This file contains unit tests for the app. You can write test cases to ensure that your app's functionality works as expected.
* __views\.py__ : This file contains the views (controllers) for the app. Views are Python functions that handle incoming requests, process data, and return responses.

## Run the server
```shell
python manage.py runserver
```
Open in your browser the link http://127.0.0.1:8000


## Add  App_name definition
in the __setting\.py__ file add the name of the app in the __INSTALLED_APPS__ array :
```python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    # own
    'app_name'
]
```

## View with HttpResponse

in the __view\.py__ file in the APP folder create the function for the view

```python
from django.shortcuts import render
from django.http import HttpResponse

# Create your views here.
def home(request):
    return HttpResponse('<h1>Hellow World!</h1>')
```
Then create a __urls\.py__ file in the some folder and insert the folowing code :

```python
from django.urls import path
from . import views

urlpatterns = [
    path('', views.home, name='home')
]
```

Then in the file __urls\.py__ in the Project folder modify the code as the folowing :

```python
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('hello.urls'))
]
```

## Views with html templates

in tha App folder add a folder with the name __templates__, in it add a folder with the App name in it add the html file (index.html):

```html
<!DOCTYPE html>
<html>
<head>
    <title>Hello</title>
</head>
<body>
    <h1>Hellow world!</h1>   
</body>
</html>
```
in the __view\.py__ file in the APP folder create the function for the view

```python
def index(request):
    return render(request, 'app_name/index.html')
```
Add the url in the __urls\.py__ in the App folder

```python
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name='index'),
]
```
Run the server and tape the url in the adresse bar of the browser : http://127.0.0.1:8000/index

## Tamplates layout

In __app_name__ folder in  __templates__ folder add a base html file (base.html) whith the content:

```django
<!DOCTYPE html>
<html>
<head>
    <title>Hello</title>
</head>
<body>
    {% block content %}
    <!--here come the content-->
    {% endblock %}
</body>
</html>
```

then the index.html file become:

```django
{% extends 'app_name/base.html' %}
{% block content %}
    <h1>Hellow world!</h1> 
{% endblock %}
```
## Access to data from the views

We can access data from the __views\.py__ in the html file

```python
items =[
    { 'name':'Item one' },
    { 'name':'Item tow' },
    { 'name':'Item tree' }
]
def index(request):
    context = { 'items' : items }
    return render(request, 'app_name/index.html', context)
```
In the html file

```django
{% extends 'app_name/base.html' %}
{% block content %}
    <h1>Items List</h1>
     <ul>
        {% for item in items %}
            <li>{{ item.name }}</li>
        {% endfor %}
    </ul>
{% endblock %}
```

## Create Model

In __models\.py__ you can create a class for your Model with attributes :


```python
from django.db import models

class Items(models.Model):
    name = Models.CharField(max_length = 50)
    
    def __str__(self):
        return self.name
```

In terminal run the commands

```bash
python manage.py makemigrations
```
 then

 ```bash
python manage.py migrate
```

